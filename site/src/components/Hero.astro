---
const base = import.meta.env.BASE_URL;

const heroMetrics = [
  { value: 'v1.6.0', label: 'Latest Release', sub: '18 phases complete', accent: 'text-blue-400' },
  { value: '445K+', label: 'Properties Handled', sub: 'BIM model scale', accent: 'text-emerald-400' },
  { value: 'GLB', label: '3D Mesh Export', sub: 'glTF 2.0 Binary', accent: 'text-amber-400' },
];

const impactItems = [
  { before: '4+ hours', after: '5 min', label: 'Property Export', improvement: '98%' },
  { before: '2+ days', after: '10 min', label: '4D Setup', improvement: '99%' },
  { before: 'N/A', after: '15 min', label: '3D Mesh Export', improvement: 'NEW' },
];
---

<section class="relative flex min-h-[100vh] items-center overflow-hidden pt-16">
  <!-- Background layers: Light -->
  <div class="absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-blue-50/50 dark:from-[#0f1117] dark:via-[#0f1117] dark:to-blue-950"></div>
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_rgba(59,130,246,0.04)_0%,_transparent_50%)] dark:bg-[radial-gradient(ellipse_at_top_right,_rgba(59,130,246,0.07)_0%,_transparent_50%)]"></div>
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_left,_rgba(16,185,129,0.03)_0%,_transparent_50%)] dark:bg-[radial-gradient(ellipse_at_bottom_left,_rgba(16,185,129,0.05)_0%,_transparent_50%)]"></div>

  <!-- Subtle grid: Light -->
  <div class="absolute inset-0 opacity-[0.04] dark:opacity-0"
    style="background-image: linear-gradient(rgba(0,0,0,0.08) 1px, transparent 1px), linear-gradient(90deg, rgba(0,0,0,0.08) 1px, transparent 1px); background-size: 64px 64px;">
  </div>
  <!-- Subtle grid: Dark -->
  <div class="absolute inset-0 opacity-0 dark:opacity-[0.025]"
    style="background-image: linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px); background-size: 64px 64px;">
  </div>

  <div class="relative z-10 mx-auto max-w-7xl px-6 py-20 w-full">
    <div class="grid gap-16 lg:grid-cols-5 lg:items-center">

      <!-- Left column: text content -->
      <div class="lg:col-span-3">
        <!-- Badge -->
        <div class="animate-fade-in-up inline-flex items-center gap-2 rounded-full border border-blue-500/20 bg-blue-500/10 px-4 py-1.5 text-sm text-blue-500 dark:text-blue-400">
          <span class="inline-block h-2 w-2 rounded-full bg-blue-500 dark:bg-blue-400 animate-pulse"></span>
          Navisworks 2025 Plugin
        </div>

        <!-- Title -->
        <h1 class="animate-fade-in-up-delay-1 mt-6 text-4xl font-extrabold leading-tight tracking-tight text-slate-900 dark:text-white sm:text-5xl lg:text-6xl">
          DXTnavis
          <span class="block bg-gradient-to-r from-blue-500 to-cyan-500 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent">
            BIM Data Extractor
          </span>
        </h1>

        <!-- Subtitle -->
        <p class="animate-fade-in-up-delay-2 mt-6 max-w-xl text-base leading-relaxed text-slate-600 dark:text-slate-400 sm:text-lg">
          Navisworks 2025 플러그인으로 <span class="text-slate-800 dark:text-slate-200 font-medium">BIM 속성, 3D 메시, 공간 관계를 추출</span>하고
          <span class="text-slate-800 dark:text-slate-200 font-medium">AWP 4D 시뮬레이션을 자동화</span>합니다.
          COM API 리버스 엔지니어링으로 Navisworks의 제한을 극복합니다.
        </p>

        <!-- CTA row -->
        <div class="animate-fade-in-up-delay-3 mt-8 flex flex-wrap gap-3">
          <a href={`${base}#impact`}
            class="rounded-xl bg-blue-500 px-5 py-2.5 text-sm font-semibold text-white shadow-lg shadow-blue-500/20 transition hover:bg-blue-400 hover:shadow-blue-400/25">
            View Impact
          </a>
          <a href={`${base}#features`}
            class="rounded-xl border border-slate-300 bg-slate-100 px-5 py-2.5 text-sm font-semibold text-slate-700 transition hover:border-slate-400 hover:bg-slate-200 dark:border-slate-700 dark:bg-slate-800/50 dark:text-slate-300 dark:hover:border-slate-600 dark:hover:bg-slate-800 dark:hover:text-white">
            Features
          </a>
          <a href={`${base}#architecture`}
            class="rounded-xl border border-slate-300 bg-slate-100 px-5 py-2.5 text-sm font-semibold text-slate-700 transition hover:border-slate-400 hover:bg-slate-200 dark:border-slate-700 dark:bg-slate-800/50 dark:text-slate-300 dark:hover:border-slate-600 dark:hover:bg-slate-800 dark:hover:text-white">
            Architecture
          </a>
          <a href="https://github.com/tygwan/DXTnavis" target="_blank" rel="noopener"
            class="rounded-xl border border-slate-300 bg-slate-100 px-5 py-2.5 text-sm font-semibold text-slate-700 transition hover:border-slate-400 hover:bg-slate-200 dark:border-slate-700 dark:bg-slate-800/50 dark:text-slate-300 dark:hover:border-slate-600 dark:hover:bg-slate-800 dark:hover:text-white">
            GitHub
          </a>
        </div>
      </div>

      <!-- Right column: metric cards + impact -->
      <div class="lg:col-span-2 animate-fade-in-up-delay-3">
        <div class="space-y-4">
          {heroMetrics.map((m) => (
            <div class="rounded-2xl border border-slate-200 bg-white backdrop-blur-sm p-5 transition hover:border-slate-300 card-glow dark:border-slate-800/80 dark:bg-slate-900/60 dark:hover:border-slate-700">
              <div class="flex items-baseline justify-between">
                <span class={`text-3xl font-bold font-mono ${m.accent}`}>{m.value}</span>
                <span class="text-xs text-slate-500 uppercase tracking-wider">{m.sub}</span>
              </div>
              <div class="mt-1.5 text-sm text-slate-600 dark:text-slate-400">{m.label}</div>
            </div>
          ))}
        </div>

        <!-- Impact mini bars -->
        <div class="mt-6 rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800/80 dark:bg-slate-900/60">
          <div class="flex items-center justify-between text-xs text-slate-500 mb-3">
            <span>Time Savings</span>
            <span class="font-mono text-slate-700 dark:text-slate-300">18/18 phases</span>
          </div>
          {impactItems.map((item) => (
            <div class="flex items-center gap-3 mb-2 last:mb-0">
              <span class="text-[10px] text-slate-500 w-20 shrink-0">{item.label}</span>
              <div class="flex-1 h-2 rounded-full bg-slate-200 dark:bg-slate-800 overflow-hidden">
                <div class={`h-full rounded-full bg-gradient-to-r from-blue-500 to-cyan-500`}
                  style={`width: ${item.improvement === 'NEW' ? '100' : item.improvement}%`}></div>
              </div>
              <span class={`text-[10px] font-mono shrink-0 ${item.improvement === 'NEW' ? 'text-emerald-400' : 'text-blue-400'}`}>
                {item.improvement === 'NEW' ? 'NEW' : `${item.improvement}%`}
              </span>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>

  <!-- Scroll hint -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce text-slate-400 dark:text-slate-600">
    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7" />
    </svg>
  </div>
</section>
